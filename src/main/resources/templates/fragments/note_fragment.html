<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<li th:fragment="note_tree(noteList)" th:each="note : ${noteList}">
    <a th:if="${#lists.isEmpty(note.children)}" th:text="${note.name}"></a>
    <details th:unless="${#lists.isEmpty(note.children)}">
        <summary th:text="${note.name}"></summary>
        <ul>
            <li th:unless="${#lists.isEmpty(note.children)}" th:replace="fragments/note_fragment::note_tree(${note.children})">
            </li>
        </ul>
    </details>
</li>
</body>
</html>